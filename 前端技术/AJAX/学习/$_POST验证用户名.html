<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<p>用户名:<input type="text" name="name" value="" placeholder=""><span id="rep"></span></p>
	<p><input type="submit" name="" value="提交"></p>
</body>
</html>
<script type="text/javascript">
	var inp = document.getElementsByTagName('input')[0];
	inp.onblur = function(){
		 var xhr = new XMLHttpRequest();
		 //$_POST
		 xhr.open('post','2.php',true);
		 xhr.setRequestHeader('Content-type','application/x-www-form-urlencoded');
		 var data = 'name='+this.value;//+'&page';
		 xhr.send(data);
		 //$_POST
		 var sp = document.getElementById('rep');
		 xhr.onreadystatechange = function(){
		 	if(this.readyState === 4 ){
		 		if(this.responseText == 1){
		 			sp.innerHTML = 'NO,对不住,已经存在,请重新填写';
		 			//alert(this.responseText);
		 		}else{
		 			sp.innerHTML = 'yes,名称可以用';
		 			//alert(this.responseText);
		 		}
		 	}
		 }
	}
</script>