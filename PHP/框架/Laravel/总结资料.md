$arr = array(''=>'')
$arr = [''=>'']
命令工具：php artisan
创建项目：composer create-project laravel/laravel=6.0**

0.路由器：将用户请求转发给相应程序去处理；建立url与程序之间的映射；请求类型：get、post、patch、delete等；任何框架都连不开路由器。
1）路由请求：post/get/any/match
2）路由传参：Route::get(xx/{id},function($id){});
3）传可选参数：Route::get(xx/{id?},function($id=1){});
4）参数限制：->where('参数名','	正则限制')
		   ->where(['参数名1'=>'正则','参数名2'=>'正则'])

1.模型(Model)
1）位置：app
2）命名空间：App
3）继承：Illuminate\Database\Eloquent\Model
4）创建：php artisan make:model 表名
5）约定：
	①默认规则：
		A.表名默认Model名 + s,如:表名users Model类名User
		B.建表主键默认是id
		C.建表默认有created_at、updated_at字段

	②修改默认规则(在Model.php文件里)：
		A.指定表名：protected $table = '表名';
		B.修改主键列名：protected primaryKey = '列名';
		C.删除时间戳字段：删除迁移文件$table->timestamps();
					   public $timestamps = false;

6）C层实例化使用：
	①$mode = new \App\Model();
	②use App\Model; Model::xxx
	③\App\Model::xxx

7）数据库增删改查：
	①添加：
		$msg = new \App\Msg();
		$msg->title = $_POST['title'];
		$msg->content = $_POST['content'];
		$res = $msg->save();

	②查询：
		A.查询单行:Msg::where('id',1)->first();
				  Msg::first(1);

		B.查询多行:Msg::where('id','>','1')->get();
		C.查询全部:Msg::all();

		D.查询某列:Msg::get(['colName']);
				  Msg::all(['colName']);
				  Msg::select('colName')->get();

		E.复杂查询方法(与DB差不多):
			a.条件：where('id','>=',1)
			b.排序：orderBy('id','desc')
			c.限制：skip(n)->take(m)    [跳过n条,取m条.limit(n,m)]
			d.统计：count() avg('id') min('id') max('id') sum('id')

	③修改(先找后改)：
		$msg = Msg::find($id);
		$msg->title = $_POST['title'];
		$msg->content = $_POST['content'];
		$res = $msg->save();

	④删除(先找后删)：
		$res = Msg::where('id',$id)->delete();



2.控制器(Controller)
1）位置：app/Http/Controllers
2）继承：Controller.php	
3）命名：大驼峰
4）命令工具：artisan
例如，在项目目录下创建控制器，终端输入
php artisan make:controller UserController
5）路由访问：Route::get('自定义','控制器@方法') 
如,Route::get('user/msg','UserController@msg');

3.模板(视图View)
1）位置：app/resources/views
2）文件命名：xx.php(直接写php语法)，xx.blade.php(优先访问,可写特有模板语法)
3）展示：在对应控制器/方法下写：return view('文件名'); 如,view('front'); view('user.login');
4）模板赋值：
①一维数组：
$data = ['id'=>3,'name'=>wsm];

a.
return view('show',$data); 				//直接将数组的键当做变量来使用
	-------> <?php echo $id; ?>    	
	-blade-> {{$id}}

b.
return view('show',['data'=>$data]); 	
return view('show')->with('data',$data);  //自定义变量名
return view('show',compact('data'));      //赋值名与变量名相同
	-------> <?php echo $data['id']; ?>    	
	-blade-> {{$data['id']}}

5）使用Bootstrap:<link type="text/css" href="/css/app.css">
6）页面路径：/msg/add

4.数据库迁移文件
1）数据库配置文件：.env
2）迁移文件——操作表语句的文件：
①好处：同步更新数据库、可版本回退、便于团队开发、容易查出问题
②位置：app/database/migrations
③使用：up()负责建表、加列、加索引；down()删表、减列、去索引
④说明：执行后的迁移文件不能修改,要想在表中添加字段,需要重新生成迁移文件

3）数据库迁移命令操作：
①创建表：php artisan make:migration create_table_goods[备注说明] --create=goods[创建表名是什么]
②执行所有迁移文件：php artisan migrate
③修改表(重新生成迁移文件)：php artisan make:migration add_col_to_goods[备注说明] --table=goods[修改表名是什么]
④回退：
A.回退最近:php artisan migrate:rollback
B.回退最初:php artisan migrate:reset
C.回退再执行:php artisan migrate:refresh
D.删除再执行:php artisan migrate:fresh
E.重置并重新运行:migrations:php artisan migrate:install
F.强制执行到最新:php artisan migrate --force

4）迁移(建表)语法:
①字段类型:$table->type('col_name');
②字段修饰:
A.默认值:->default($value)
B.允许null:->nullable()
C.无符号:->unsigned()
D.字段位置:->first()、->after('column')
③字段删除:$table->dropColumn('email');

5.数据库操作（Facade-DB类,C层需要写"use DB;"）
1）添加数据：
①数组：DB::table('tableName')->insert($data);
②添加一条并获取Id：DB::table('tableName')->insertGetId($data);

2）修改数据：
①键值：DB::table()->where('id',num)->update(['key'=>'value']);
②数值增长：DB::table()->where('id',num)->increment('column',num);
③数值减少：DB::table()->where('id',num)->decrement('column',num);

3）删除数据：
①删除一条：DB::table()->where()->delete();
②删除多条：DB::table()->where('id','>',100)->delete();
③清空：DB::table()->truncate();

4）查询数据：DB::table()->
①限制条件：where('column','',num)
②筛选列：select('column')
③查询(所有)：get()
④取一条数据：first()
⑤取某列单个值：value('column')
⑥取某列所有值：pluck('column')
⑦使用原生：DB::select('sql')

6.Blade模板
0）模板的代码被注释了，代码依然解析导致报错
1）模板判断
	①if条件语句
		@if
		@elseif
		@else
		@endif

	②unless条件语句(结果与if相反)
		@unless
		@endunless

	③isset判断存在
		@isset
		@endisset

	④empty判断为空
		@empty
		@endempty

	⑤switch选择语句
		@switch
			@case(1)
			<p></p>
			@break

			@case(2)
			<p></p>
			@break

			@default
			<p></p>
			@break
		@endswitch

	⑥例如：
		@if($score >= 60)
		<p>及格</p>
		@else 
		<p>不及格</p>
		@endif

2）循环
	①常规
		@for
		@endfor
	②常用
		@foreach
		@endforeach

	③(需要写数据不存在情况的)
		@forelse <!-- 有数据时输出 -->
		@empty   <!-- 数据为空时输出XX -->
		@endforelse

	④写原生php
		@php
		@endphp

	⑤例如：
		@foreach($arr as $v)
		<p>{{$v}}</p>
		@endforeach

3）.模板继承
	①引入一个模板(头尾):include('footer')  框架自动从/views/文件下查找
	②模板继承(省去多次引入相同部分，)：
		A.定义一个父模板(以便子类继承重写)：
			<body>
				<header>头部</header>
				<h1>@yield('title')</h1>  <!-- 定义某部分标题或内容 -->
				<div> 主体内容
					<div class="left">
						@section('left')  <!-- 定义某部分内容 -->
						@show
					</div>
					<div class="right">
						@yield('right')
						内容
					</div>
				</div>
				<footer>尾部</footer>
			</body>

		B.编写子模板继承并重写(@section)：
			@extends('blade.parent')  	<!-- 继承父类模板 -->

			@section('title','重写标题') <!-- yield定义内容 -->
			
			@section('left')  			<!-- @section()子模板内容@endsection -->
				<h1>继承后修改的内容</h1>
				@parent 				<!-- @parent显示父模板内容 -->
			@endsection

			@section('right')
				<p class="text-danger">this is right.</p> 
			@endsection

	③复用组件(@component)
		A.父模板:<!-- alert.blade.php -->
			<div class="alert alert-danger">
			    <div class="alert-title">{{$title}}</div>
			    {{$slot}}
			</div>

		B.子模板：
			@component('alert')
			    @slot('title')
			        Forbidden
				@endslot
			    You are not allowed to access this resource!
			@endcomponent

4）.变量解析
	①不解析模板[@]：@{{$var}}
	②不实体转义[!!!!]：{!!@jsCode!!}

7.Request对象
	1）声明Request对象(第一个参数)
		public function app(Request $req,$id){}

	2）修改数据：$msg->title = $req->title;

	3）数据注入：$msg->num = $reqi->input('num',1);	

	4）文件上传：
		①常用：
			$req->file('pic')->move('Path','fileName');

		②使用驱动(方式多种实现,可选择存储服务器[用独立服务器专门存储文件])

			A. config/filesystems.php 文件添加或修改'disks'

			B. .env 文件,添加上 'FILESYSTEM_DRIVER=disk'

			C. 使用驱动实现文件上传：
				a. $path = $req->file('pic')->store('disk');
				b. $path = Storage::putFile('disk',$req->file('pic'));
				[加上As,即可修改文件名]
				c. $path = $req->file('pic')->storeAs('disk','fileName');
				d. $path = Storage::putFileAs('disk',$req->file('pic'),'fileName');

			D.查看文件存储网络路径：return asset('storage/'.$path);

			E.终端输入：php artisan storage:link
			（如果报错或调试失败,请检查AB两步的配置文件及代码使用的disk）

			F.调试：浏览器粘贴D步骤的路径,是否能够显示图片

8.辅助函数(善用)
1）数组 & 对象函数：
	①添加 & 删除
		A.添加键值到数组：array_add($array,'key','value')
		B.添加数据至数组开头：array_prepend($array,'key','value')
		C.移除数组中该键的值：array_except($array,['key'])
		D.返回并删除键值：array_pull($array,'key')

	②合并 & 分离
		A.多个数组合并成一个数组：array_collapse($array,$array...)
		B.使用'.'拼接键将多维数组转化为一维：array_dot($array)
		C.多维转一维数组：array_flatten($array)
		D.键值分离返回两个数组：array_divide($array)


	③首部 & 尾部
		A.返回测试数组的第一个元素[结果]：array_first($array,function(){})
		B.返回测试数组的最后一个元素[结果]：array_last($array,$callback,$default)
		C.返回数组第一个元素：head($array)
		D.返回数组最后一个元素：last($array)


	④嵌套 '.' 使用[判断、获取、设置、移除]
		A.使用'.'检测该数据是否存在：array_has($array,'lang.c')
		B.使用'.'从嵌套数组获取值：
			array_get($array,'lang.java') 
			data_get($array,'lang.java')

		C.使用'.'在嵌套数组中设置值：
			array_set($arra,'shop.name.price',355)
			data_fill($data,'shop.name.price',355)
			data_set($data,'shop.name.price',355)

		D.使用'.'移除嵌套数组的值：array_forget($array,'lang.php')


	⑤其它
		A.返回指定的键值对：array_only($array,['name','price'])
						 array_pluck($array,'shop.name')

		B.从数组中返回随机值：array_random($array)
		C.对数组进行排序：array_sort($array)
		D.对嵌套数组进行递归排序：array_sort_recursive($array)
		E.过滤数组中闭包的键值：array_where($array)
		F.对定值转化成一个数组：array_wrap($str)

2）路径函数
①返回目录的绝对路径[一级目录_path('子目录')]：
	如,app_path('子目录') config_path() base_path('vendor/bin') 根目录

3）字符串函数
	①字符(串)搜索
		A.判断字符串是否包含定值：str_contains($strings,$str)
		B.判断字符串是否以定值开头：starts_with($strings,$str)
		C.判断字符串是否以定值结尾：ends_with($strings,$str)
		D.字符串没有以定值开头就加上定值：str_start($strings,$str)
		E.返回定值之前所有字符：str_before($strings,$str)
		F.返回定值之后所有字符：str_after($strings,$str)
		G.判断字符串是否符合匹配模式：str_is('foo*','foobar')

	②字符串转换
		A.返回驼峰式字符串：camel_case()
		B.每个单词首字母大写：title_case($str)
		C.将字符串中单词转化为单数形式：str_singular($str)
		D.将字符串中单词转化为复数形式：str_plural($str,[1,2])
		E.实体转义：e('标签代码')
	
	③字符串替换
		A.字符串空格代替成''字符：str_lung($string,'')
		B.使用数组替换模板中的值：
			preg_replace_array('被替换','替换成','对象')
			str_replace_array('被替换','替换成','对象')
		C.替换首次出现的值：str_replace_first('被替换','替换成','对象')
		D.替换最后一次出现的值：str_replace_last('被替换','替换成','对象')

	⑤其它
		A.截取字符串,后面补充省略号：str_limit($str,$num,[结尾字符])
		B.生成指定长度的随机字符串：str_random($num)

4）URL函数
	①生成URL
		A.给定控制器返回URL：action('MsgController@show')
		B.给定路由生成URL：route() secure_url('msg/show') url()
		C.前端资源生成URL：asset('xx.jpg') secure_asset('xx.jpg')

5）其它函数
	①与前端相关：
		A.显示视图：view('routeName')
		B.返回给定的值：with('price',$price)
		C.包含csrf的令牌值的HTML隐藏字段：{{csrf_field()}}
		D.获取当前CSRF令牌值：csrf_token()
		E.输出并终止脚本执行：dd()
		F.输出不终止脚本执行：dump()

	②页面跳转
		A.返回前一个页面：back()
		B.HTTP重定向：redirect('/home') redirect()->route('show')

	③常用函数
		A.创建集合：collect()
		B.哈希加密：bcrypt($str)
		C.哈希解密：encrypt($str)
		D.request函数(当request对象使用)：request('col') [相当于$req->col]
		E.获取/设置session值：session('key') session(['id'=>1])

	④获取配置环境
		A.获取缓存值：cache('key')
		B.获取配置信息：config('app.timezone') config(['app.timezone'=>'PRC'])
					  env('APP_ENV')
	⑤异常
		A.抛出异常：abort(404) 
				   abort_if() 
				   abort_unless() 
				   report()

	⑥返回实例
		A.返回服务容器实例：app()
		B.返回认证器实例：auth()

不断学习：
1）重置加密：php artisan key:generate
2）显示POST传输的数据：
<input type="hidden" name="_token" value="<?php echo csrf_token(); ?>">
3）页面跳转：return redirect('msg/index'); ->resources/views/msg/index.php
4）路径描述(views)：①绝对路径：/msg/add